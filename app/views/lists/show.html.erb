<!-- The user can view all list details. Link to add or delete movie/bookmark. Delete via icon -->
<h1><%= @list.name %></h1>

<!-- Show existing bookmarks -->
<h2>Movies in this list</h2>

<% if @list.bookmarks.any? %>
  <% @list.bookmarks.each do |bookmark| %>
    <div class="bookmark-card">
      <% if bookmark.movie.poster_url.present? %>
        <img src="<%= bookmark.movie.poster_url %>" alt="<%= bookmark.movie.title %>" class="poster">
      <% end %>

      <div class="bookmark-info">
        <h3><%= bookmark.movie.title %></h3>
        <p><%= bookmark.movie.overview %></p>
        <p><strong>Rating:</strong> <%= bookmark.movie.rating %></p>
        <p><em>Comment:</em> <%= bookmark.comment %></p>

        <!-- Delete bookmark button -->
        <%= link_to "Delete", bookmark_path(bookmark),
                    data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
                    class: "btn btn-danger" %>
      </div>
    </div>
  <% end %>
<% else %>
  <p>No movies yet.</p>
<% end %>

<%= link_to "Back to all lists", lists_path, class: "btn btn-secondary" %>

<!-- Add new bookmark button -->
<%= link_to new_list_bookmark_path(@list), class: "btn" do %>
  Add a movie
<% end %>
